name = "overlap"
compatibility_date = "2026-01-15"
compatibility_flags = ["nodejs_compat"]

# Workers deployment - main entry point from Astro build
main = "dist/_worker.js/index.js"

# Static assets configuration
[assets]
directory = "dist"
binding = "ASSETS"

# D1 Database binding - auto-provisioned when no database_id is set
[[d1_databases]]
binding = "DB"
database_name = "overlap-db"

# Environment variables
[vars]
ENVIRONMENT = "production"

# Note: TEAM_ENCRYPTION_KEY must be set as a secret during setup

# Enable worker logs for debugging
[observability]
[observability.logs]
enabled = true
invocation_logs = true
